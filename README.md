# 🏇 競馬予測ダッシュボード

馬ごとの過去成績を一覧化・分析するStreamlitベースのダッシュボードアプリケーションです。

## 📋 機能

- **統計サマリー**: 各馬の勝率、連対率、複勝率などの基本統計
- **成績詳細**: 馬別成績の比較グラフ
- **パフォーマンス分析**: 距離別・馬場状態別の成績分析
- **レース履歴**: 詳細なレース履歴と着順推移グラフ

## 🚀 セットアップ手順

### 1. 必要なパッケージのインストール

```bash
pip install -r requirements.txt
```

### 2. サンプルデータの生成

```bash
cd keiba_app
python sample_data.py
```

### 3. ダッシュボードの起動

```bash
cd keiba_app
streamlit run dashboard.py
```

ブラウザで `http://localhost:8501` にアクセスすると、ダッシュボードが表示されます。

## 📊 データ構造

サンプルデータには以下の情報が含まれています：

- **馬名**: 競走馬の名前
- **レース日**: レース開催日
- **競馬場**: レース場所
- **距離**: レース距離（メートル）
- **着順**: レース結果の着順
- **出走頭数**: そのレースの出走馬数
- **タイム**: レースタイム
- **馬場状態**: 良、稍重、重、不良
- **天気**: 晴、曇、雨、小雨
- **騎手**: 騎乗騎手名
- **斤量**: 負担重量
- **人気**: レース前の人気順位
- **オッズ**: 単勝オッズ
- **賞金**: 獲得賞金

## 🎯 使用方法

1. **馬名選択**: サイドバーで分析したい馬を選択
2. **期間フィルター**: 分析期間を指定
3. **競馬場フィルター**: 特定の競馬場のデータに絞り込み
4. **タブ切り替え**: 4つのタブで異なる視点から分析

## 📈 分析機能

### 統計サマリー
- 各馬の基本統計情報をカード形式で表示
- 勝率、連対率、複勝率の計算

### 成績詳細
- 馬別の勝率比較棒グラフ
- 複数馬の成績を並べて比較

### パフォーマンス分析
- 距離別平均着順の散布図
- 馬場状態別着順分布のボックスプロット

### レース履歴
- 選択した馬の詳細レース履歴テーブル
- 時系列での着順推移グラフ

## 🔧 カスタマイズ

- `sample_data.py`: サンプルデータの生成ロジック
- `dashboard.py`: ダッシュボードのメイン処理
- 実際の競馬データを使用する場合は、CSV形式で `horse_performance_data.csv` を置き換えてください

## 📝 今後の拡張予定

- 実際の競馬データAPIとの連携
- 予測モデルの実装
- より詳細な分析機能の追加
- レースシミュレーション機能 